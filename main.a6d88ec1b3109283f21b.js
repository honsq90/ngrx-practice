(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{4:function(t,e,n){t.exports=n("Vtdi")},"Jyj+":function(t,e){t.exports='<h1 class="title">Sticky Header example</h1>\n<table class="table is-striped">\n  <thead>\n    <tr>\n      <th class="sticky-header">\n        <div class="header">\n          Header\n        </div>\n      </th>\n      <th class="sticky-header">\n        <div class="header">\n          Header\n        </div>\n      </th>\n      <th class="sticky-header">\n        <div class="header">\n          Header\n        </div>\n      </th>\n      <th class="sticky-header">\n        <div class="header">\n          Header\n        </div>\n      </th>\n      <th class="sticky-header">\n        <div class="header">\n          Header\n        </div>\n      </th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr *ngFor="let count of rowsCount">\n      <td>Text</td>\n      <td>Text</td>\n      <td>Text</td>\n      <td>Text</td>\n      <td>Text</td>\n    </tr>\n  </tbody>\n</table>\n'},KFuK:function(t,e){t.exports='<nav class="navbar" role="navigation" aria-label="main navigation">\n  <div class="navbar-brand">\n    <a class="navbar-item" href="/">\n      <img src="https://bulma.io/images/bulma-logo.png" alt="Bulma: a modern CSS framework based on Flexbox" width="112" height="28">\n    </a>\n    <div class="navbar-menu">\n      <div class="navbar-start">\n        <a class="navbar-item" routerLink="/">\n          Canvas\n        </a>\n      </div>\n    </div>\n  </div>\n</nav>\n<section class="section">\n  <div class="container">\n    <router-outlet></router-outlet>\n  </div>\n</section>\n'},Vtdi:function(t,e,n){"use strict";n.r(e);var o=n("CcnG"),r=n("ToYH"),a=n("ZYjt"),i=n("ZYCi"),s=n("+sEA"),c=function(t,e,n,o){var r,a=arguments.length,i=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,n,i):r(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i},u=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},p=function(){function t(){this.title="app"}return t=c([Object(o.n)({selector:"app-root",template:n("KFuK"),styles:[n("pPlj")]}),u("design:paramtypes",[])],t)}(),l=function(t,e,n,o){var r,a=arguments.length,i=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,n,i):r(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i},f=function(){function t(){this.rowsCount=Array(50)}return t=l([Object(o.n)({selector:"app-home",template:n("Jyj+"),styles:[n("bdh1")]})],t)}(),d=n("yGQT"),h=n("A5yv"),b=!0,v={routerReducer:s.c},y=(Object(d.n)("routerReducer"),function(){function t(){}return t.prototype.serialize=function(t){for(var e=t.url,n=t.root.queryParams,o=t.root;o.firstChild;)o=o.firstChild;return{url:e,queryParams:n,params:o.params}},t}()),m=n("jYNz"),g=n("t/Na"),j=n("y3By"),k=n("bne5"),O=n("6blF"),x=n("S1nX"),w=n("mPRy"),C=function(){function t(t,e,n){void 0===n&&(n={}),this.channel=t.channel(e,n)}return t.prototype.join=function(){var t=this;return new O.a(function(e){t.channel.join().receive("ok",function(t){e.next(t)}).receive("error",function(t){e.error(t)})})},t.prototype.push=function(t,e,n){this.channel.push(t,e,n)},t.prototype.leave=function(t){this.channel.leave(t)},t.prototype.messages=function(t){var e=this;return new O.a(function(n){e.channel.on(t,function(t){n.next(t)})}).pipe(Object(x.a)())},t}(),R=function(){function t(t){this.socket=new w.Socket(t),this.socket.connect()}return t.prototype.channel=function(t,e){return void 0===e&&(e={}),new C(this.socket,t,e)},t}(),P=n("psW0"),T=n("TYK5"),S=n("VnD/"),D=n("xMyE"),Y=n("15JJ"),J=n("ny24"),H=n("qyHS"),M=n("67Y/"),_=function(t,e,n,o){var r,a=arguments.length,i=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,n,i):r(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i},E=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},F=new R("wss://7777b1b8.au.ngrok.io/socket"),I=function(){return Object(M.a)(function(t){return function(t){return{offsetX:t.offsetX,offsetY:t.offsetY}}(t)})},X=function(t){return Object(j.a)(Object(D.a)(function(e){e.target===t&&e.preventDefault()}),Object(S.a)(function(t){return t.changedTouches.length>0}),function(t){return Object(M.a)(function(e){return function(t,e){var n=t.getBoundingClientRect();return{offsetX:e.changedTouches[0].clientX-n.left,offsetY:e.changedTouches[0].clientY-n.top}}(t,e)})}(t))},$=function(){function t(t){this.ref=t,this.socketPending=!0}return t.prototype.ngAfterViewInit=function(){var t=this.canvas.nativeElement;this.setupCanvas(t),this.handleCanvas(t),this.setupWebSockets()},t.prototype.setupCanvas=function(t){var e=getComputedStyle(this.canvasContainer.nativeElement);t.width=parseInt(e.width,10),t.height=parseInt(e.height,10),this.ctx=t.getContext("2d"),this.ctx.lineWidth=5,this.ctx.lineJoin="round",this.ctx.lineCap="round"},t.prototype.handleCanvas=function(t){var e=this;this.mouseDown$=Object(k.a)(t,"mousedown").pipe(Object(D.a)(function(t){t.preventDefault(),t.stopPropagation()}),I(),Object(T.a)(Object(k.a)(t,"touchstart").pipe(X(t)))),this.mouseMove$=Object(k.a)(t,"mousemove").pipe(I(),Object(T.a)(Object(k.a)(t,"touchmove").pipe(X(t)))),this.mouseUp$=Object(k.a)(t,"mouseup").pipe(I(),Object(T.a)(Object(k.a)(t,"touchend").pipe(X(t)))),this.mouseDown$.pipe(Object(D.a)(function(t){e.publishToSocket("stroke_started",t)}),Object(Y.a)(function(t){return e.mouseMove$.pipe(Object(J.a)(e.mouseUp$.pipe(Object(D.a)(function(t){return e.publishToSocket("stroke_ended",t)}))))})).subscribe(function(t){e.publishToSocket("stroke_added",t)})},t.prototype.publishToSocket=function(t,e){this.canvasChannel.push(t,{x:e.offsetX,y:e.offsetY,color:this.color})},t.prototype.drawStroke=function(t,e,n){var o=e[0],r=e[1];t.strokeStyle=n,t.beginPath(),t.moveTo(o.x,o.y),t.lineTo(r.x,r.y),t.closePath(),t.stroke()},t.prototype.setupWebSockets=function(){var t=this;this.color=function(){for(var t="#",e=0;e<6;e++)t+="0123456789ABCDEF"[Math.floor(16*Math.random())];return t}();var e=F.channel("rooms:canvas",{color:this.color});this.canvasChannel=e,e.join().subscribe(function(e){t.socketPending=!1,t.ref.detectChanges()}),e.messages("stroke_started").pipe(Object(P.a)(function(t){var n=e.messages("stroke_added").pipe(Object(S.a)(function(e){return e.color===t.color})),o=e.messages("stroke_ended").pipe(Object(S.a)(function(e){return e.color===t.color}));return n.pipe(Object(J.a)(o),Object(H.a)())})).subscribe(function(e){t.drawStroke(t.ctx,e,e[0].color)})},_([Object(o.Ja)("appCanvas"),E("design:type",Object)],t.prototype,"canvas",void 0),_([Object(o.Ja)("appCanvasContainer"),E("design:type",Object)],t.prototype,"canvasContainer",void 0),t=_([Object(o.n)({selector:"app-canvas",template:n("fR11"),styles:[n("ibIc")]}),E("design:paramtypes",[o.k])],t)}(),A=(function(){}(),function(t,e,n,o){var r,a=arguments.length,i=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,n,i):r(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i}),K=[{path:"",component:$},{path:"sticky",component:f},{path:"todos",loadChildren:"../features/todos/todos.module#TodosModule"}],B=function(){function t(){}return t=A([Object(o.I)({imports:[a.a,i.e.forRoot(K),d.j.forRoot(v),m.c.forRoot([]),g.b,s.b,h.a.instrument({logOnly:b})],providers:[{provide:s.a,useClass:y}],declarations:[p,f,$],bootstrap:[p]})],t)}();b&&Object(o.Oa)(),Object(r.a)().bootstrapModule(B).catch(t=>console.log(t))},bdh1:function(t,e){t.exports="table {\n  width: 100%; }\n  table .sticky-header {\n    position: -webkit-sticky;\n    position: sticky;\n    top: 0;\n    z-index: 10;\n    background-color: white;\n    box-shadow: 0 1px 0 0 #ccc; }\n"},crnd:function(t,e,n){var o={"../features/todos/todos.module":["90hs",0]};function r(t){var e=o[t];return e?n.e(e[1]).then(function(){return n(e[0])}):Promise.resolve().then(function(){var e=new Error('Cannot find module "'+t+'".');throw e.code="MODULE_NOT_FOUND",e})}r.keys=function(){return Object.keys(o)},r.id="crnd",t.exports=r},fR11:function(t,e){t.exports='<div class="page-container">\n  <div class="canvas-container" #appCanvasContainer [ngClass]="socketPending ? \'hidden\' : \'\'">\n    <canvas #appCanvas>\n    </canvas>\n  </div>\n  <div class="spinner" *ngIf="socketPending"></div>\n</div>\n'},ibIc:function(t,e){t.exports=".page-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%; }\n\n.canvas-container {\n  height: 600px;\n  width: 800px; }\n\n.canvas-container canvas {\n    background-color: lightgray; }\n\n.spinner {\n  margin-top: 100px;\n  border: solid 20px;\n  border-radius: 50%;\n  border-color: gray;\n  -webkit-animation: scale-out 1s infinite ease-in-out;\n          animation: scale-out 1s infinite ease-in-out; }\n\n@-webkit-keyframes scale-out {\n  0% {\n    width: 0px;\n    height: 0px;\n    -webkit-transform: translate(-40px);\n            transform: translate(-40px); }\n  50% {\n    -webkit-transform: translate(40px);\n            transform: translate(40px); }\n  100% {\n    -webkit-transform: translate(-40px);\n            transform: translate(-40px); } }\n\n@keyframes scale-out {\n  0% {\n    width: 0px;\n    height: 0px;\n    -webkit-transform: translate(-40px);\n            transform: translate(-40px); }\n  50% {\n    -webkit-transform: translate(40px);\n            transform: translate(40px); }\n  100% {\n    -webkit-transform: translate(-40px);\n            transform: translate(-40px); } }\n"},pPlj:function(t,e){t.exports=""}},[[4,1,2]]]);
//# sourceMappingURL=main.a6d88ec1b3109283f21b.js.map